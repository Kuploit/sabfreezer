-- SAB Freezer by Kuploit
-- Автор: Roblox Scripter
-- Версия: 1.4 (UI Only)

-- Основные переменные
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")
local ContentFrame = Instance.new("Frame")
local FreezeButton = Instance.new("TextButton")
local StatusLabel = Instance.new("TextLabel")

-- Настройка цветовой палитры (темные тона в стиле Kuploit)
local ColorPalette = {
    Background = Color3.fromRGB(15, 15, 18),
    Primary = Color3.fromRGB(25, 25, 30),
    Secondary = Color3.fromRGB(20, 20, 25),
    Accent = Color3.fromRGB(0, 100, 200),
    AccentActive = Color3.fromRGB(200, 50, 50), -- Красный для активного состояния
    Text = Color3.fromRGB(230, 230, 230),
    Title = Color3.fromRGB(255, 255, 255), -- #ffffff
    TitleStroke = Color3.fromRGB(143, 143, 143), -- #8f8f8f
    Border = Color3.fromRGB(40, 40, 50),
    ButtonHover = Color3.fromRGB(30, 80, 160),
    ButtonHoverActive = Color3.fromRGB(180, 40, 40), -- Красный ховер для активного состояния
    Success = Color3.fromRGB(50, 200, 50) -- Зеленый для статуса
}

-- Функция для создания закругленных углов
local function createCorner(parent, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = parent
    return corner
end

-- Функция для создания мягкой темной тени
local function createShadow(parent)
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.Image = "rbxassetid://5554236805"
    shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    shadow.ImageTransparency = 0.8
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    shadow.BackgroundTransparency = 1
    shadow.Size = UDim2.new(1, 14, 1, 14)
    shadow.Position = UDim2.new(0, -7, 0, -7)
    shadow.ZIndex = parent.ZIndex - 1
    shadow.Parent = parent
    return shadow
end

-- Создание основного GUI
ScreenGui.Name = "SABFreezerGUI"
ScreenGui.Parent = Player:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- Основной фрейм
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = ColorPalette.Background
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -70)
MainFrame.Size = UDim2.new(0, 300, 0, 140)
MainFrame.Active = true
MainFrame.Draggable = true

createCorner(MainFrame, 10)
createShadow(MainFrame)

-- Панель заголовка
TitleBar.Name = "TitleBar"
TitleBar.Parent = MainFrame
TitleBar.BackgroundColor3 = ColorPalette.Primary
TitleBar.BorderSizePixel = 0
TitleBar.Size = UDim2.new(1, 0, 0, 35)

local titleCorner = Instance.new("UICorner", TitleBar)
titleCorner.CornerRadius = UDim.new(0, 10)

-- Заголовок SAB Freezer by Kuploit с обводкой
Title.Name = "Title"
Title.Parent = TitleBar
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 15, 0, 0)
Title.Size = UDim2.new(0, 250, 1, 0)
Title.Font = Enum.Font.GothamBlack
Title.Text = "SAB Freezer by Kuploit"
Title.TextColor3 = ColorPalette.Title -- #ffffff
Title.TextSize = 16
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Добавляем обводку к заголовку (#8f8f8f)
local titleStroke = Instance.new("UIStroke", Title)
titleStroke.Color = ColorPalette.TitleStroke -- #8f8f8f
titleStroke.Thickness = 1.5
titleStroke.Transparency = 0.2

-- Кнопка сворачивания
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = TitleBar
MinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.BackgroundTransparency = 1
MinimizeButton.Position = UDim2.new(1, -35, 0, 0)
MinimizeButton.Size = UDim2.new(0, 35, 1, 0)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Text = "–"
MinimizeButton.TextColor3 = ColorPalette.Text
MinimizeButton.TextSize = 22

-- Контентный фрейм
ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Position = UDim2.new(0, 0, 0, 35)
ContentFrame.Size = UDim2.new(1, 0, 1, -35)

-- Кнопка Freeze Server
FreezeButton.Name = "FreezeButton"
FreezeButton.Parent = ContentFrame
FreezeButton.BackgroundColor3 = ColorPalette.Accent
FreezeButton.BorderSizePixel = 0
FreezeButton.Position = UDim2.new(0.15, 0, 0.15, 0)
FreezeButton.Size = UDim2.new(0.7, 0, 0.4, 0)
FreezeButton.Font = Enum.Font.GothamBlack
FreezeButton.Text = "FREEZE SERVER"
FreezeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
FreezeButton.TextSize = 18

createCorner(FreezeButton, 8)

-- Метка статуса
StatusLabel.Name = "StatusLabel"
StatusLabel.Parent = ContentFrame
StatusLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Position = UDim2.new(0.05, 0, 0.62, 0)
StatusLabel.Size = UDim2.new(0.9, 0, 0.25, 0)
StatusLabel.Font = Enum.Font.GothamMedium
StatusLabel.Text = "Status: Inactive"
StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
StatusLabel.TextSize = 14
StatusLabel.TextWrapped = true

-- Переменные состояния
local isMinimized = false
local isFrozen = false
local originalSize = MainFrame.Size
local minimizedSize = UDim2.new(0, 300, 0, 35)

-- Эффекты при наведении на кнопки
local function setupButtonHover(button, normalColor, hoverColor)
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = hoverColor
    end)
    
    button.MouseLeave:Connect(function()
        if button == FreezeButton then
            button.BackgroundColor3 = isFrozen and ColorPalette.AccentActive or ColorPalette.Accent
        else
            button.BackgroundColor3 = normalColor
        end
    end)
end

setupButtonHover(MinimizeButton, Color3.fromRGB(255, 255, 255), ColorPalette.ButtonHover)
setupButtonHover(FreezeButton, ColorPalette.Accent, ColorPalette.ButtonHover)

-- Обработка кнопки Freeze Server (пустая функция)
FreezeButton.MouseButton1Click:Connect(function()
    isFrozen = not isFrozen
    
    if isFrozen then
        -- Включаем (визуально только)
        FreezeButton.Text = "UNFREEZE SERVER"
        FreezeButton.BackgroundColor3 = ColorPalette.AccentActive
        StatusLabel.Text = "Status: Active (World Frozen)"
        StatusLabel.TextColor3 = ColorPalette.Success
        
        -- Настраиваем ховер для активного состояния
        FreezeButton.MouseEnter:Connect(function()
            FreezeButton.BackgroundColor3 = ColorPalette.ButtonHoverActive
        end)
        
        FreezeButton.MouseLeave:Connect(function()
            FreezeButton.BackgroundColor3 = ColorPalette.AccentActive
        end)
        
    else
        -- Выключаем (визуально только)
        FreezeButton.Text = "FREEZE SERVER"
        FreezeButton.BackgroundColor3 = ColorPalette.Accent
        StatusLabel.Text = "Status: Inactive"
        StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        
        -- Настраиваем ховер для неактивного состояния
        FreezeButton.MouseEnter:Connect(function()
            FreezeButton.BackgroundColor3 = ColorPalette.ButtonHover
        end)
        
        FreezeButton.MouseLeave:Connect(function()
            FreezeButton.BackgroundColor3 = ColorPalette.Accent
        end)
    end
end)

-- Обработчики событий для сворачивания
MinimizeButton.MouseButton1Click:Connect(function()
    if isMinimized then
        -- Развернуть
        MainFrame.Size = originalSize
        ContentFrame.Visible = true
        isMinimized = false
        MinimizeButton.Text = "–"
    else
        -- Свернуть
        MainFrame.Size = minimizedSize
        ContentFrame.Visible = false
        isMinimized = true
        MinimizeButton.Text = "+"
    end
end)

-- Функция для открытия/закрытия панели (горячая клавиша)
local UIS = game:GetService("UserInputService")
local isVisible = true

UIS.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.RightControl then
            isVisible = not isVisible
            MainFrame.Visible = isVisible
        end
    end
end)

print("SAB Freezer by Kuploit v1.4 loaded")
print("Press Right Control to toggle visibility")
print("UI Only - No freeze functionality")
